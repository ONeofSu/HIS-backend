# HIS-生物医药信息系统后端
## 一 项目简介
前后端分离项目，此仓库为后端，采用微服务架构。前端仓库地址:https://github.com/software-engineer-group-oasis/chinese-medicine.git

该系统是一套集中药资源采集、数据集成、在线展示、科研资料管理、教学辅助、质量评价、业绩管理等多种功能于一体的综合性数字信息平台，服务于科研机构、医药高校和相关企业用户。额外实现直播功能，并微调了大模型使其能对中药领域信息进行更为专业的解答。

系统分成七大模块：药材分布展示、数据获取与交换、课程资源存储、课题研究管理、培训资料管理、中药材质量评价与申报、业绩管理模块。

## 二 开发环境
操作系统：Windows11

JDK VERSION:21

技术选型：SpringBoot + SpringMVC + MyBatis-Plus

工具选用:Redis + RabbitMQ

数据存储：MySQL

## 三 功能介绍
### 3.1 信息门户
- 登录注册：账号密码登录，邮箱注册
- 权限认证：五类用户：普通用户、学生、教师、管理员、超级管理员
### 3.2	药材分布展示
- 该模块提供中药材的空间分布可视化展示，包括地图大屏、区域分级查看、药材详情跳转。
- 地图大屏展示：在首页加载重庆市范围药材分布地图，支持热力图、聚合点等形式；
- 区域查询功能：支持根据区县筛选展示该区域内药材分布点数量与类型；
- 点击查看详情：点击具体药材点，展示基础信息（名称、图片、坐标、上传者等），并可跳转到百科词条详情；
- 筛选与搜索功能：可按药材类别、地区、上传时间等条件查询地图展示内容；
- 展示模式切换：支持全屏大屏展示模式与普通地图展示模式切换。
### 3.3	成长记录
- 支持移动端采集数据上传。
- 移动端数据采集表单：字段包括药材名称、采集图片、GPS定位、备注信息等；
- 数据提交与入库：移动端上传数据后自动存入后台数据库并可人工审核；
- 数据溯源功能：每条数据记录操作人、时间、设备、采集地点等元数据；
- 管理端采集记录查看：提供数据列表、审核等功能。
### 3.4 课程资源
- 用于管理偏长期的中药教学课程内容，特别是实验课程、教学视频、结构化图文内容等。
- 课程录入：支持上传课程视频、教学文档（PDF、PPT）、实验步骤等；
- 内容结构分类：支持按课程类别（基础/进阶）、对象（本科/研究生）分类；
- 资源预览与下载：支持在线播放视频、文档预览、原文件下载；
- 资源标签管理：添加关键词标签，支持全文搜索；
- 关联药材词条：课程资料与中药百科双向绑定，方便联动展示。
### 3.5	课题研究
- 用于管理中药相关课题研究项目及其成果资料，包括研究背景、过程记录、结题材料等。
- 课题创建与录入：填写研究背景、研究方向、实验过程、团队成员等；
- 成果资料上传：支持上传论文、实验数据、分析报告、图片等文件；
- 项目状态管理：设置立项中/进行中/已结题等课题状态；
- 关键词与药材关联：实现与相关药材词条、课程、实验内容建立连接；
- 课题归档与检索：支持按时间、研究方向、关键词等方式筛选课题。
### 3.6	培训资料
- 集中管理中药短期类培训内容（讲座、微课、实操演示等），强调实践技能的快速传授。
- 资料上传与编辑：支持上传培训视频、讲义文档、操作图解等；
- 课程快速预览与下载：支持在线播放，支持多种文件格式（PDF、MP4、DOCX）；
- 分类与标签系统：培训内容可按讲师、药材类型、主题方向分类展示；
- 访问统计功能：记录访问量、下载量等，便于内容优化；
- 与中药百科互链：所有培训内容可作为词条内容的补充模块展示。
- 直播：教师可以发起直播，使用OBS进行推流，供网站人员观看。
### 3.7	中药评价
- 构建中药材质量评价流程，管理评价维度、评价记录及支持非遗申报材料生成
- 评价表单自定义：支持设置药材外观、成分含量、来源渠道等维度；
- 评价记录录入：填写打分、文字说明，上传图文材料佐证；
- 评价标准版本控制：支持配置不同版本的评价标准，并记录使用历史；
- 结果查询与导出：支持条件筛选、批量导出评价记录；
### 3.8	业绩管理
- 记录药材相关工作的业务活动数据，用于个人或集体的工作量核算、业绩归档与认定。
- 业绩信息录入：包括工作名称、内容、参与人、日期、附件材料等；
- 分类统计功能：根据既定标准将业绩内容归入教学/科研/服务等类型；
- 业绩证明上传：支持 PDF、图片等多种格式；
- 审批与审核功能：支持手动或自动审核流程，记录操作日志；

## 4.大模型调用
在`HIS-Python`目录下运行`model_server.py`即可，可以查看输出的地址

Java后端`HerbInfo`中，找到`AIGenerateService`修改为相应地址

测试机配置为:

    Python:3.12

    显卡:4060 推理占用8G显存，时间约为20s左右。
## 5.直播功能
请确保已经配置好SRS服务器

    docker pull ossrs/srs:4 #docker拉取

## 6.后端接口设计
[登录模块接口](API/0登录模块接口设计.md)

[药材分布及中药百科模块接口](API/1药材分布与中药百科模块接口设计.md)

[成长记录模块接口](API/2生长记录模块接口设计.md)

[课程管理模块接口](API/3课程管理设计.md)

[研究内容模块接口](API/4研究内容模块接口设计.md)

[培训资料模块接口](API/5培训资料模块接口设计.md)

[业绩管理模块接口](API/6业绩管理接口设计.md)

[评论区接口](API/7评论区(敏感词)模块接口设计%20.md)

## 7.贡献指南
1. Fork 本仓库
2. 创建特性分支 (git checkout -b feature/your-feature)
3. 提交代码 (git commit -m 'Add some feature')
4. 推送分支 (git push origin feature/your-feature)
5. 创建Pull Request